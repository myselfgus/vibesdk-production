@import 'tailwindcss';
@import "tw-animate-css";

@font-face{
  font-family: "departureMono";
  src:  url('./assets/fonts/DepartureMono-Regular.woff') 
}

/* Subtle chat edge throb effect */
@keyframes chat-edge-throb {
  0%, 100% {
    box-shadow:
      0 0 0 0 rgba(246, 130, 31, 0.10),
      inset 0 0 0 1px rgba(246, 130, 31, 0.16);
  }
  50% {
    box-shadow:
      0 0 0 6px rgba(255, 61, 0, 0.08),
      inset 0 0 0 2px rgba(255, 61, 0, 0.22);
  }
}

.chat-edge-throb {
  animation: chat-edge-throb 1.6s ease-in-out infinite;
  border-radius: 0.75rem; /* rounded-xl */
}

@media (prefers-reduced-motion: reduce) {
  .chat-edge-throb { animation: none; }
}

/* Debug mode pulsing effect - red edges */
@keyframes debug-pulse {
  0%, 100% {
    box-shadow:
      inset 4px 0 12px rgba(239, 68, 68, 0.1),
      inset -4px 0 12px rgba(239, 68, 68, 0.1);
  }
  50% {
    box-shadow:
      inset 4px 0 20px rgba(239, 68, 68, 0.2),
      inset -4px 0 20px rgba(239, 68, 68, 0.2);
  }
}

.animate-debug-pulse {
  animation: debug-pulse 2s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
  .animate-debug-pulse { animation: none; }
}

/* Custom scrollbar for debug bubble */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(239, 68, 68, 0.3);
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(239, 68, 68, 0.5);
}

.dark .custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(239, 68, 68, 0.4);
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(239, 68, 68, 0.6);
}

@custom-variant dark (&:is(.dark *));
@plugin '@tailwindcss/typography';
@theme inline {
	--radius-sm:
		calc(var(--radius) - 4px);
	--radius-md:
		calc(var(--radius) - 2px);
	--radius-lg:
		var(--radius);
	--radius-xl:
		calc(var(--radius) + 4px);
	--color-accent:
		var(--build-accent-color);
	--color-destructive:
		var(--destructive);
	--color-input:
		var(--input);
	--color-ring:
		var(--ring);
	--shadow-textarea:
		6px 6px 13px 0px rgba(0, 0, 0, 0.04),
		24px 24px 24px 0px rgba(0, 0, 0, 0.03),
		53px 53px 32px 0px rgba(0, 0, 0, 0.02),
		0px 0px 0px 1px rgba(217, 217, 217, 0.2);
	--color-bg-1: var(--build-chat-colors-bg-1);
	--color-bg-2: var(--build-chat-colors-bg-2);
	--color-bg-3: var(--build-chat-colors-bg-3);
	--color-bg-4: var(--build-chat-colors-bg-4);
	--color-border-primary: var(--build-chat-colors-border-primary);
	--color-border-secondary: var(--build-chat-colors-border-secondary);
	--color-border-tertiary: var(--build-chat-colors-border-tertiary);
	--color-danger: var(--build-chat-colors-danger);
	--color-brand-heavy: var(--build-chat-colors-brand-heavy);
	--color-brand-primary: var(--build-chat-colors-brand-primary);
	--color-brand-subtle: var(--build-chat-colors-brand-subtle);
	--color-text-inverted: var(--build-chat-colors-text-inverted);
	--color-text-primary: var(--build-chat-colors-text-primary);
	--color-text-secondary: var(--build-chat-colors-text-secondary);
	--color-text-tertiary: var(--build-chat-colors-text-tertiary);

	--shadow-textarea:
		6px 6px 13px 0px rgba(0, 0, 0, 0.04),
		24px 24px 24px 0px rgba(0, 0, 0, 0.03),
		53px 53px 32px 0px rgba(0, 0, 0, 0.02),
		0px 0px 0px 1px rgba(217, 217, 217, 0.2);
	--animate-typing-dot: typing-dot 1.2s ease-in-out infinite;
	--animate-shake: shake 1s ease-in-out;
}


:root {
	--radius: 0.625rem;
	--destructive: oklch(0.577 0.245 27.325);
	--border: oklch(0.922 0 0);
	--input: oklch(0.922 0 0);
	--ring: oklch(0.708 0 0);

	--build-accent-color: #000000;
	--build-chat-colors-bg-1: rgba(255, 255, 255, 0.95);
	--build-chat-colors-bg-2: rgba(255, 255, 255, 0.95);
	--build-chat-colors-bg-3: rgba(245, 245, 245, 0.90);
	--build-chat-colors-bg-4: rgba(232, 232, 232, 0.85);
	--build-chat-colors-border-primary: rgba(208, 208, 208, 0.6);
	--build-chat-colors-border-secondary: rgba(224, 224, 224, 0.5);
	--build-chat-colors-border-tertiary: rgba(232, 232, 232, 0.4);
	--build-chat-colors-danger: #000000;
	--build-chat-colors-brand-heavy: #000000;
	--build-chat-colors-brand-primary: #000000;
	--build-chat-colors-brand-subtle: #404040;
	--build-chat-colors-text-inverted: #000000;
	--build-chat-colors-text-primary: #000000;
	--build-chat-colors-text-secondary: #404040;
	--build-chat-colors-text-tertiary: #808080;
}

.dark {
	--destructive: #ef4444;
	--border: #393939;
	--input: #292929;

	--build-accent-color: #F6821F;
	--build-chat-colors-bg-1: #1A1F23;
	--build-chat-colors-bg-2: rgba(26, 31, 35, 0.95);
	--build-chat-colors-bg-3: rgba(26, 31, 35, 0.85);
	--build-chat-colors-bg-4: rgba(26, 31, 35, 0.7);
	--build-chat-colors-border-primary: rgba(255, 255, 255, 0.1);
	--build-chat-colors-border-secondary: rgba(255, 255, 255, 0.08);
	--build-chat-colors-border-tertiary: rgba(255, 255, 255, 0.06);
	--build-chat-colors-danger: #DC2626;
	--build-chat-colors-brand-heavy: #F6821F;
	--build-chat-colors-brand-primary: #F6821F;
	--build-chat-colors-brand-subtle: #FF9F4A;
	--build-chat-colors-text-inverted: #000000;
	--build-chat-colors-text-primary: #FFFFFF;
	--build-chat-colors-text-secondary: #CDCACA;
	--build-chat-colors-text-tertiary: #BCB9B9;

	--shadow-dialog:
		0px 18px 60px 0px rgba(6, 6, 5, 0.1),
		3px 3px 13px 0px rgba(0, 0, 0, 0.04), -3px 3px 13px 0px rgba(0, 0, 0, 0.04),
		24px 24px 24px 0px rgba(0, 0, 0, 0.03),
		-24px 24px 24px 0px rgba(0, 0, 0, 0.03),
		53px 53px 32px 0px rgba(0, 0, 0, 0.02),
		0px 0px 0px 1px rgba(217, 217, 217, 0.2);
	--shadow-elevation:
		6px 6px 13px 0px rgba(0, 0, 0, 0.2),
		24px 24px 24px 0px rgba(0, 0, 0, 0.17),
		53px 53px 32px 0px rgba(0, 0, 0, 0.12),
		0px 0px 0px 1px rgba(217, 217, 217, 0.1);
}

@layer base {
	* {
		@apply border-border-primary outline-ring/50;
	}
  	body {
    	@apply bg-bg-3 text-text-primary h-full;
		font-family: var(--font-sans);
	}
	h1, h2, h3, h4, h5, h6 {
		font-family: var(--font-heading);
	}
	code, pre, .font-mono {
		font-family: var(--font-mono);
	}
	button {
		@apply cursor-pointer;
	}
	select {
		@apply cursor-pointer;
	}
}

@theme {
	--font-sans:
		'Space Grotesk', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
		'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
	--font-heading: 'Josefin Sans', sans-serif;
	--font-mono: 'Roboto Mono', monospace;
	--font-mono-alt: 'Space Mono', monospace;

	--color-brand: #0092b8;
	--color-text: #000;
	--color-text-on-brand: #fff;

	--shadow-dialog:
		0px 18px 60px 0px rgba(6, 6, 5, 0.1),
		3px 3px 13px 0px rgba(0, 0, 0, 0.04), -3px 3px 13px 0px rgba(0, 0, 0, 0.04),
		24px 24px 24px 0px rgba(0, 0, 0, 0.03),
		-24px 24px 24px 0px rgba(0, 0, 0, 0.03),
		53px 53px 32px 0px rgba(0, 0, 0, 0.02),
		0px 0px 0px 1px rgba(217, 217, 217, 0.2);
	--shadow-elevation:
		6px 6px 13px 0px rgba(0, 0, 0, 0.04),
		24px 24px 24px 0px rgba(0, 0, 0, 0.03),
		53px 53px 32px 0px rgba(0, 0, 0, 0.02),
		0px 0px 0px 1px rgba(217, 217, 217, 0.2);
	--shadow-soft-layered:
		3px 3px 13px 0px rgba(0, 0, 0, 0.04), 24px 24px 24px 0px rgba(0, 0, 0, 0.03);
}


/* Hack from https://stackoverflow.com/a/71876526 */
.monaco-editor {
	position: absolute !important;
}

@utility bg-graph-paper {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.08'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

.glass-light {
	background: rgba(255, 255, 255, 0.95);
	backdrop-filter: blur(10px) saturate(150%);
	-webkit-backdrop-filter: blur(10px) saturate(150%);
	border: 1px solid;
	border-image: linear-gradient(135deg, 
		rgba(200, 220, 255, 0.4) 0%,
		rgba(200, 200, 255, 0.3) 25%,
		rgba(220, 200, 255, 0.3) 50%,
		rgba(200, 220, 255, 0.4) 100%) 1;
	box-shadow:
		0 4px 6px rgba(0, 0, 0, 0.05),
		0 1px 3px rgba(0, 0, 0, 0.08),
		inset 0 1px 0 rgba(255, 255, 255, 0.9),
		inset -1px 0 0 rgba(200, 220, 255, 0.2),
		inset 0 -1px 0 rgba(200, 200, 255, 0.2);
}

.glass-dark {
	background: rgba(26, 31, 35, 0.95);
	backdrop-filter: blur(10px) saturate(150%);
	-webkit-backdrop-filter: blur(10px) saturate(150%);
	border: 1px solid;
	border-image: linear-gradient(135deg, 
		rgba(150, 180, 255, 0.3) 0%,
		rgba(150, 150, 255, 0.25) 25%,
		rgba(180, 150, 255, 0.25) 50%,
		rgba(150, 180, 255, 0.3) 100%) 1;
	box-shadow:
		0 4px 6px rgba(0, 0, 0, 0.3),
		0 1px 3px rgba(0, 0, 0, 0.2),
		inset 0 1px 0 rgba(255, 255, 255, 0.1),
		inset -1px 0 0 rgba(150, 180, 255, 0.15),
		inset 0 -1px 0 rgba(150, 150, 255, 0.15);
}

.glass-iridescent {
	background: rgba(255, 255, 255, 0.95);
	backdrop-filter: blur(12px) saturate(160%);
	-webkit-backdrop-filter: blur(12px) saturate(160%);
	border: 1.5px solid;
	border-image: linear-gradient(135deg,
		rgba(100, 200, 255, 0.5) 0%,
		rgba(100, 150, 255, 0.4) 25%,
		rgba(200, 100, 255, 0.4) 50%,
		rgba(150, 150, 255, 0.4) 75%,
		rgba(100, 200, 255, 0.5) 100%) 1;
	box-shadow:
		0 8px 16px rgba(0, 0, 0, 0.08),
		0 2px 4px rgba(0, 0, 0, 0.04),
		inset 0 1px 0 rgba(255, 255, 255, 0.95),
		inset -1px -1px 2px rgba(100, 200, 255, 0.15),
		inset 1px 1px 2px rgba(200, 100, 255, 0.15);
}

.matte-glow {
	box-shadow:
		0 0 20px rgba(0, 0, 0, 0.08),
		0 2px 8px rgba(0, 0, 0, 0.04);
}

::-webkit-scrollbar {
	width: 8px;
	height: 8px;
	background-color: transparent;
}

::-webkit-scrollbar-thumb {
	background-color: rgba(0, 0, 0, 0.2);
	border-radius: 4px;
	transition: background-color 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
	background-color: rgba(0, 0, 0, 0.3);
}

.dark ::-webkit-scrollbar-thumb {
	background-color: rgba(255, 255, 255, 0.2);
}

.dark ::-webkit-scrollbar-thumb:hover {
	background-color: rgba(255, 255, 255, 0.3);
}

::-webkit-scrollbar-corner {
	background-color: transparent;
}

/* Phase Timeline Custom Scrollbar */
.phase-timeline-scroll::-webkit-scrollbar {
	width: 6px;
}

.phase-timeline-scroll::-webkit-scrollbar-track {
	background: rgba(0, 0, 0, 0.05);
	border-radius: 3px;
}

.phase-timeline-scroll::-webkit-scrollbar-thumb {
	background: rgba(0, 0, 0, 0.2);
	border-radius: 3px;
}

.phase-timeline-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(0, 0, 0, 0.3);
}

.dark .phase-timeline-scroll::-webkit-scrollbar-track {
	background: rgba(255, 255, 255, 0.05);
}

.dark .phase-timeline-scroll::-webkit-scrollbar-thumb {
	background: rgba(255, 255, 255, 0.2);
}

.dark .phase-timeline-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(255, 255, 255, 0.3);
}

.a-tag a {
	@apply text-brand;
}

.prose {
	/* --tw-prose-invert-counters: rgb(156, 187, 192); */
	/* --tw-prose-invert-bullets: rgb(156, 187, 192); */
	--tw-prose-th-headers: --value(var(--color-text));
	--tw-prose-body: --value(var(--color-text));
	--tw-prose-headings: --value(var(--color-text));
	--tw-prose-code: --value(var(--color-text));
	--tw-prose-bold: --value(var(--color-text));
	--tw-prose-quotes: --value(var(--color-text));
	--tw-prose-counters: --value(var(--color-text));
}

/* Chat messages custom scrollbar */
.chat-messages-scroll::-webkit-scrollbar {
	width: 8px;
}

.chat-messages-scroll::-webkit-scrollbar-track {
	background: transparent;
}

.chat-messages-scroll::-webkit-scrollbar-thumb {
	background: rgba(0, 0, 0, 0.1);
	border-radius: 4px;
}

.chat-messages-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(0, 0, 0, 0.15);
}

.dark .chat-messages-scroll::-webkit-scrollbar-thumb {
	background: rgba(255, 255, 255, 0.15);
}

.dark .chat-messages-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(255, 255, 255, 0.2);
}

/* Terminal custom scrollbar */
.terminal-scroll::-webkit-scrollbar {
	width: 8px;
}

.terminal-scroll::-webkit-scrollbar-track {
	background: rgba(0, 0, 0, 0.05);
	border-radius: 4px;
}

.terminal-scroll::-webkit-scrollbar-thumb {
	background: rgba(0, 0, 0, 0.15);
	border-radius: 4px;
	transition: background-color 0.2s ease;
}

.terminal-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(0, 0, 0, 0.25);
}

.dark .terminal-scroll::-webkit-scrollbar-track {
	background: rgba(255, 255, 255, 0.05);
}

.dark .terminal-scroll::-webkit-scrollbar-thumb {
	background: rgba(255, 255, 255, 0.15);
}

.dark .terminal-scroll::-webkit-scrollbar-thumb:hover {
	background: rgba(255, 255, 255, 0.25);
}

/* Hide scrollbar but keep scroll behavior */
.no-scrollbar {
-ms-overflow-style: none; /* IE and Edge */
scrollbar-width: none; /* Firefox */
}
.no-scrollbar::-webkit-scrollbar {
display: none; /* Chrome, Safari, Opera */
}